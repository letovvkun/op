<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è | –ú–∞–∫—Å –õ–µ—Ç–æ–≤ & ShiYori</title>
<link rel="icon" href="data:," />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
<style>
  .info-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 24px; align-items: start; }
  .info-card { background: var(--component-bg); border: 1px solid var(--component-border); border-radius: var(--radius); padding: 24px; margin-bottom: 24px; backdrop-filter: blur(10px); }
  h2 { margin-top: 0; color: var(--text); font-size: 20px; border-bottom: 1px solid var(--component-border); padding-bottom: 12px; margin-bottom: 16px; }
  
  details { background: rgba(255,255,255,0.03); border-radius: 12px; margin-bottom: 10px; transition: all 0.2s; }
  details[open] { background: rgba(255,255,255,0.05); }
  summary { padding: 14px; cursor: pointer; font-weight: 600; list-style: none; position: relative; padding-right: 40px; }
  summary::-webkit-details-marker { display: none; }
  summary::after { content: '+'; position: absolute; right: 14px; color: var(--muted); }
  details[open] summary::after { content: '‚àí'; color: var(--accent-c); }
  .faq-content { padding: 0 14px 14px 14px; color: var(--muted); line-height: 1.6; font-size: 14px; }

  .status-row { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px dashed var(--component-border); }
  .status-row:last-child { border-bottom: none; }
  .status-label { font-size: 14px; font-weight: 500; }
  .status-badge { padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: 800; text-transform: uppercase; }
  
  .st-done { background: rgba(0, 179, 126, 0.2); color: #00b37e; border: 1px solid rgba(0, 179, 126, 0.3); }
  .st-process { background: rgba(255, 184, 107, 0.2); color: #ffb86b; border: 1px solid rgba(255, 184, 107, 0.3); }
  .st-wait { background: rgba(255, 255, 255, 0.1); color: var(--muted); }

  .team-member { display: flex; align-items: center; gap: 14px; margin-bottom: 16px; }
  .avatar { width: 50px; height: 50px; border-radius: 50%; background: #333; object-fit: cover; border: 2px solid var(--accent-c); }
  .team-info div { font-weight: 700; font-size: 15px; }
  .team-info span { font-size: 12px; color: var(--muted); }
  
  /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Å—ã–ª–æ–∫ –Ω–∞ –∫–æ–º–∞–Ω–¥—É */
  .team-link { color: var(--text); text-decoration: none; transition: color 0.2s; }
  .team-link:hover { color: var(--accent-c); }
  
  @media (max-width: 900px) {
    .info-grid { grid-template-columns: 1fr; }
    .info-grid > div:nth-child(2) { order: -1; }
  }
</style>
</head>
<body data-theme="dark">

  <div class="site-banner" role="banner"></div>

  <div class="wrap">
    
    <div class="hero-glow" aria-hidden="true"></div>

    <header class="top">
      <div class="brand">
        <div class="logo-badge" onclick="window.location.href='/'" style="cursor:pointer"><img src="https://i.ibb.co/F2Lr9rP/image.webp" alt="L"></div>
        <div class="title"><h1>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h1><p>–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</p></div>
      </div>
      <div class="controls-top">
         <a href="/" class="btn ghost">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
         <button id="themeBtn" class="btn ghost"><span class="icon-moon"></span><span class="icon-sun"></span></button>
      </div>
    </header>

    <div class="info-grid">
      <div>
        <div class="info-card">
          <h2>–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ)</h2>
          <details open><summary>–ö–æ–≥–¥–∞ –≤—ã—Ö–æ–¥–∏—Ç –Ω–æ–≤–∞—è —Å–µ—Ä–∏—è?</summary><div class="faq-content">–ù–æ–≤—ã–µ —Å–µ—Ä–∏–∏ –≤—ã—Ö–æ–¥—è—Ç –∫–∞–∂–¥–æ–µ <strong>–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ ~23:00 –ø–æ –ú–°–ö</strong>.</div></details>
          <details><summary>–ü–ª–µ–µ—Ä —Ç–æ—Ä–º–æ–∑–∏—Ç / –ù–µ –≥—Ä—É–∑–∏—Ç</summary><div class="faq-content">1. –°–º–µ–Ω–∏—Ç–µ –ø–ª–µ–µ—Ä (Dzen, Kodik, Mega).<br>2. –û—Ç–∫–ª—é—á–∏—Ç–µ VPN (–¥–ª—è –†–§) –∏–ª–∏ –≤–∫–ª—é—á–∏—Ç–µ (–¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω).</div></details>
          <details><summary>–ö–∞–∫ —Å–∫–∞—á–∞—Ç—å —Å–µ—Ä–∏—é?</summary><div class="faq-content">–°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª–æ–º –º–æ–∂–Ω–æ –≤ –Ω–∞—à–µ–º <a href="https://t.me/maxletovv_dub" target="_blank" style="color:var(--accent-c)">Telegram –∫–∞–Ω–∞–ª–µ</a>.</div></details>
        </div>

        <div class="info-card">
          <h2>DMCA / –ü—Ä–∞–≤–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
          <div style="font-size: 13px; color: var(--muted); line-height: 1.6;">
            <p>–î–∞–Ω–Ω—ã–π —Å–∞–π—Ç —è–≤–ª—è–µ—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–º –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º. –í—Å–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∞—É–¥–∏–æ –∏ –≤–∏–¥–µ–æ–º–∞—Ç–µ—Ä–∏–∞–ª—ã, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ —Å–∞–π—Ç–µ, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∏—Ö –∑–∞–∫–æ–Ω–Ω—ã–º –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è–º. –ú—ã –Ω–µ –ø—Ä–µ—Ç–µ–Ω–¥—É–µ–º –Ω–∞ –∞–≤—Ç–æ—Ä—Å—Ç–≤–æ –∏ –Ω–µ –∏–∑–≤–ª–µ–∫–∞–µ–º –∫–æ–º–º–µ—Ä—á–µ—Å–∫—É—é –≤—ã–≥–æ–¥—É –∏–∑ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. 
             <p>–í–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç (–≤–∏–¥–µ–æ—Ñ–∞–π–ª—ã) —Ä–∞–∑–º–µ—â–µ–Ω –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å–∞—Ö –∏ –≤—Å—Ç—Ä–æ–µ–Ω –≤ –ø–ª–µ–µ—Ä —Å –ø–æ–º–æ—â—å—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ iframe. –ù–∞—à —Å–∞–π—Ç –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –Ω–∏–∫–∞–∫–∏—Ö –Ω–µ–ª–µ–≥–∞–ª—å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, –∞ –ª–∏—à—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–∏—Ö.</p>
            <p>–ï—Å–ª–∏ –≤—ã —è–≤–ª—è–µ—Ç–µ—Å—å –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–º –∏ —Å—á–∏—Ç–∞–µ—Ç–µ, —á—Ç–æ –≤–∞—à–∏ –ø—Ä–∞–≤–∞ –±—ã–ª–∏ –Ω–∞—Ä—É—à–µ–Ω—ã, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–µ. –ú—ã –≥–æ—Ç–æ–≤—ã –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∞—à –∑–∞–ø—Ä–æ—Å –∏ —É–¥–∞–ª–∏—Ç—å —Å–ø–æ—Ä–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã.</p>
            <p>–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º: <a href="mailto:support@letovshiyori.org" style="color:var(--accent-c)">support@letovshiyori.org</a></p>
          </div>
        </div>
      </div>

      <aside>
        <div class="info-card" style="border-color: var(--accent-c);">
            <h2>üî• –°—Ç–∞—Ç—É—Å —Å–ª–µ–¥. —Å–µ—Ä–∏–∏</h2>
            <div style="font-size: 12px; color: var(--muted); margin-bottom: 12px;">
                –û–∂–∏–¥–∞–µ–º: <strong>–°–µ—Ä–∏—è <span id="view-ep-num">...</span></strong>
            </div>
            
            <div class="status-row"><span class="status-label">–ü–µ—Ä–µ–≤–æ–¥</span><span id="view-translation" class="status-badge st-wait">...</span></div>
            <div class="status-row"><span class="status-label">–û–∑–≤—É—á–∫–∞ (–ú–∞–∫—Å)</span><span id="view-dub-max" class="status-badge st-wait">...</span></div>
            <div class="status-row"><span class="status-label">–û–∑–≤—É—á–∫–∞ (ShiYori)</span><span id="view-dub-shiyori" class="status-badge st-wait">...</span></div>
            <div class="status-row"><span class="status-label">–°–≤–µ–¥–µ–Ω–∏–µ</span><span id="view-mixing" class="status-badge st-wait">...</span></div>
            <div class="status-row"><span class="status-label">–ó–∞–ª–∏–≤–∫–∞</span><span id="view-upload" class="status-badge st-wait">...</span></div>
            
            <div style="margin-top:12px; font-size:10px; color:var(--muted); text-align:right">–û–±–Ω–æ–≤–ª–µ–Ω–æ: <span id="view-updated">...</span></div>
        </div>

        <div class="info-card">
          <h2>–ö–æ–º–∞–Ω–¥–∞</h2>
          <div class="team-member">
            <img src="https://i.ibb.co/v64tbgmc/max.jpg" class="avatar">
            <div class="team-info">
                <div><a href="https://t.me/maxletovv_dub" target="_blank" class="team-link">–ú–∞–∫—Å –õ–µ—Ç–æ–≤</a></div>
                <span>–ú—É–∂—Å–∫–æ–π –≥–æ–ª–æ—Å (–õ—É—Ñ—Ñ–∏, –ó–æ—Ä–æ, –°–∞–Ω–¥–∂–∏ –∏ –¥—Ä.)</span>
            </div>
          </div>
          <div class="team-member">
            <img src="https://i.ibb.co/MDBLGCrY/shiyori.jpg" class="avatar">
            <div class="team-info">
                <div><a href="https://t.me/shiyoritime" target="_blank" class="team-link">ShiYori</a></div>
                <span>–ñ–µ–Ω—Å–∫–∏–π –≥–æ–ª–æ—Å (–ù–∞–º–∏, –ß–æ–ø–ø–µ—Ä, –ù–∏–∫–æ –†–æ–±–∏–Ω –∏ –¥—Ä.)</span>
            </div>
          </div>
          <a href="https://boosty.to/maxletovv" target="_blank" class="btn special-btn" style="width: 100%; margin-top:10px">–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –Ω–∞ Boosty</a>
        </div>
      </aside>
    </div>
  </div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBE1AkNd3bPGPr3ZPUbtqNUd2WDCB2SHHw",
    authDomain: "letovshiyori.firebaseapp.com",
    projectId: "letovshiyori",
    storageBucket: "letovshiyori.appspot.com",
    messagingSenderId: "379203362104",
    appId: "1:379203362104:web:20235be9bbbbfdbd6df5cd"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const themeBtn = document.getElementById('themeBtn');
  const body = document.body;
  body.setAttribute('data-theme', localStorage.getItem('theme') || 'dark');
  themeBtn.addEventListener('click', () => {
    const newTheme = body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
    body.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
  });

  async function loadStatus() {
      try {
          const docRef = doc(db, "settings", "release_status");
          const docSnap = await getDoc(docRef);

          if (docSnap.exists()) {
              const data = docSnap.data();
              
              document.getElementById('view-ep-num').textContent = data.episode || '???';
              
              const updateBadge = (id, status) => {
                  const el = document.getElementById(id);
                  el.className = 'status-badge'; 
                  if (status === 'done') { el.classList.add('st-done'); el.textContent = '–ì–æ—Ç–æ–≤–æ'; }
                  else if (status === 'process') { el.classList.add('st-process'); el.textContent = '–í —Ä–∞–±–æ—Ç–µ'; }
                  else { el.classList.add('st-wait'); el.textContent = '–û–∂–∏–¥–∞–Ω–∏–µ'; }
              };

              updateBadge('view-translation', data.translation);
              updateBadge('view-dub-max', data.dub_max);
              updateBadge('view-dub-shiyori', data.dub_shiyori);
              updateBadge('view-mixing', data.mixing);
              updateBadge('view-upload', data.upload);

              if (data.updatedAt) {
                  const date = new Date(data.updatedAt);
                  document.getElementById('view-updated').textContent = date.toLocaleString('ru-RU', { day:'numeric', month:'short', hour:'2-digit', minute:'2-digit' });
              }
          }
      } catch (e) {
          console.error("–û—à–∏–±–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:", e);
      }
  }

  // --- –§—É–Ω–∫—Ü–∏—è –°–Ω–µ–≥–∞ (—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –∏–∑ main.js) ---
  function initSnowEffect() {
    const now = new Date();
    const month = now.getMonth(); 
    const day = now.getDate();

    // –°–Ω–µ–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å 10 –¥–µ–∫–∞–±—Ä—è –ø–æ 20 —è–Ω–≤–∞—Ä—è (–ª–æ–≥–∏–∫–∞ –∏–∑ main.js)
    const isSeason = (month === 11 && day >= 10) || (month === 0 && day <= 20);

    if (!isSeason) return; 

    const wrapper = document.createElement('div');
    wrapper.className = 'snow-wrapper';
    document.body.appendChild(wrapper);

    const flakesCount = 50; 
    for (let i = 0; i < flakesCount; i++) {
      const flake = document.createElement('div');
      flake.className = 'snowflake';
      
      const size = Math.random() * 3 + 2; 
      const left = Math.random() * 100; 
      const duration = Math.random() * 10 + 10; 
      const delay = Math.random() * -20; 
      const opacity = Math.random() * 0.4 + 0.4; 

      flake.style.width = `${size}px`;
      flake.style.height = `${size}px`;
      flake.style.left = `${left}%`;
      flake.style.animationDuration = `${duration}s`;
      flake.style.animationDelay = `${delay}s`;
      flake.style.opacity = opacity;

      wrapper.appendChild(flake);
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
      loadStatus();
      initSnowEffect(); // –ó–∞–ø—É—Å–∫ —Å–Ω–µ–≥–∞
  });
</script>
</body>
</html>


